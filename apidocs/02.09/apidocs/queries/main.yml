get:
  tags:
    - Queries
  summary: Get query summary records.  
  description: Returns currently or recently active queries when no parameters are specified.
  produces:
      - "application/json"
  parameters:
    - name: lastModifiedAfter
      in: query
      type: string
      format: date-time
      description: Return all query summary that have been modified since the time provided.  Time should be provided in ISO8601 format. 
    - name: completed
      in: query
      type: boolean
      description: Only return queries that are completed.
    - name: queryTextPhrase
      in: query
      type: string
      description: Only return queries that contain the supplied phrase in the query text.
    - name: initiatorQueryId
      in: query
      type: string
      description: Lookup query summary using ID of the query on the initiator system.
  responses:
    200:
      description: Successful Operation
      schema:
        type: array
        items:
          $ref: '#query-summary'
                       
query-summary:
  type: object
  example: {"queryId":"c0096abe-0f63-4df7-9dc2-0000000006e3","parentId":null,"siblingId":"c0096abe-0f63-4df7-9dc2-0000000006de","childrenId":null,"lastModified":"2018-03-05T07:32:06.422+0000","phase":"SUCCESS","startTime":"2018-03-05T07:16:45.491+0000","endTime":"2018-03-05T07:14:26.738+0000","duration":0,"transferType":"EXPORT","rowsTransferred":1,"bytesTransferred":20531,"compressionRatio":2070.2173,"transferRate":5568,"bottleneck":{"location":null,"node":null},"configVersion":"ACTIVE","link":{"id":"377ed910-34dd-48a7-8d58-9716cedeaa47","name":"hhdp289_sdt09767","versionId":"82bb5009-10d8-4e0a-990e-c41b344ec8b8"},"fabric":{"id":"653677aa-fed5-454c-bbb6-f8aba16112cf","name":"test_fabric_01","version":"ACTIVE","versionId":"57d4450f-d952-4d9d-927d-86a3f89c41eb","port":5002,"softwareVersion":"02.05.00.00.DEV-245"},"commPolicy":{"id":"2b47d999-b7db-4f8c-a017-0ccbb19df4d5","name":"test_comm_policies_01","version":"ACTIVE","versionId":"65c91f27-ba3d-4d15-9ef1-7cc992740bcb","compression":true,"encryption":true},"initiator":{"system":{"id":"2210e967-c22b-4862-b187-8c7f305b8c0c","name":"hdp289"},"connector":{"id":"9031f973-f116-48a5-8935-16e198f86bff","name":"hhdp289","version":"ACTIVE","versionId":"1efcd55e-0f3b-44fb-ac11-baf85f27f8ba","softwareName":"tdqg-hive-connector","softwareVersion":"02.05.00.00.DEV-479"},"network":{"id":"ab4295b3-cb94-4a36-886b-64a0a43adb07","name":"test_network_hadoop_vm","version":"ACTIVE","versionId":"76d17f0a-4c76-4aea-a431-36351dc6b163"},"queryText":["USE `testuser`"],"username":"hive","userRole":null,"hostId":null,"requestId":null,"sessionId":"33c2f1e3-c09c-44a9-a064-d765ba3629a0","queryId":"hive_20180305071644_418c6e10-abb6-4285-a0a0-439626dc8107","totalCpu":10,"metadataPhase":{"startTime":"2018-03-05T07:16:45.491+0000","endTime":"2018-03-05T07:16:45.597+0000","duration":106,"totalCpu":0,"bytesTransferred":null,"node":{"id":"ca8cafc3-93ac-45d3-b6b8-c886bfa02b5e","name":"hdp289m1.labs.teradata.com"},"instances":[{"startTime":"2018-03-05T07:16:45.491+0000","endTime":"2018-03-05T07:16:45.597+0000","duration":106,"totalCpu":0,"bytesTransferred":null,"node":{"id":"ca8cafc3-93ac-45d3-b6b8-c886bfa02b5e","name":"hdp289m1.labs.teradata.com"}}]},"executionPhase":{"startTime":"2018-03-05T07:14:19.947+0000","endTime":"2018-03-05T07:14:26.738+0000","duration":6791,"totalCpu":0,"node":{"id":"d8b74304-10e0-405a-b112-ac26dc1d7435","name":"hdp289d3.labs.teradata.com"},"instances":[{"startTime":"2018-03-05T07:14:19.947+0000","endTime":"2018-03-05T07:14:26.738+0000","duration":6791,"totalCpu":0,"node":{"id":"d8b74304-10e0-405a-b112-ac26dc1d7435","name":"hdp289d3.labs.teradata.com"},"type":"EXPORT"}]},"dataTransferPhase":{"startTime":"2018-03-05T07:16:53.873+0000","endTime":"2018-03-05T07:16:54.134+0000","duration":261,"totalCpu":10,"totalNodes":1,"cpuSkew":1.0,"highestCpuNode":{"id":"7eba6c5b-8502-4664-8145-a4fb22110473","name":"hdp289d2.labs.teradata.com"},"dataSkew":1.0,"highestDataNode":{"id":"7eba6c5b-8502-4664-8145-a4fb22110473","name":"hdp289d2.labs.teradata.com"},"bytesTransferred":999915,"compressedSize":483,"decompressedSize":999915},"errors":null},"target":{"system":{"id":"a2f61e9a-c985-4743-b3c9-747f65f3b78b","name":"sdt09767"},"connector":{"id":"30128808-b128-4671-9e40-e227b01c2ea3","name":"sdt09767","version":"ACTIVE","versionId":"70c57bc4-e179-435f-8aec-7c9daaf9c805","softwareName":"tdqg-teradata-connector","softwareVersion":"02.05.00.00.DEV-479"},"network":{"id":"51a0a911-0cb4-4e1d-a25f-bc0e988acdf3","name":"test_network_td_vm","version":"ACTIVE","versionId":"26e857b1-6d55-450f-a5ca-46e10e31fc57"},"queryText":["HELP COLUMN * FROM \"testuser\".\"temp_tab_1mb_row_varchar\";SELECT session","INSERT INTO \"testuser\".\"temp_tab_1mb_row_varchar\" SELECT * FROM TD_SYSFNLIB.QGRemoteImport(ON(SELECT * FROM \"testuser\".\"temp_tab_1mb_row_varchar\") WITH NO DATA USING uuid('c0096abe-0f63-4df7-9dc2-0000000006e3') QGLVersionId('377ed910-34dd-48a7-8d58-9716cedeaa47;82bb5009-10d8-4e0a-990e-c41b344ec8b8;65c91f27-ba3d-4d15-9ef1-7cc992740bcb;1efcd55e-0f3b-44fb-ac11-baf85f27f8ba;70c57bc4-e179-435f-8aec-7c9daaf9c805;76d17f0a-4c76-4aea-a431-36351dc6b163;26e857b1-6d55-450f-a5ca-46e10e31fc57;57d4450f-d952-4d9d-927d-86a3f89c41eb') nodeInfo_tdqg1('bca58282-fd2f-4554-a6a5-e67ef73cb49b;d8b74304-10e0-405a-b112-ac26dc1d7435;7eba6c5b-8502-4664-8145-a4fb22110473') defaultPushProfile('NONE') replaceUnsupportedUC('false') logfilePath('/var/opt/teradata/tdqg/connector/tdqg-teradata-connector/02.05.00.00.DEV-479/logs/') writeTimeout('300000') loaderConnectorName('libtdqgc.so') linkBufferCount('4') linkBufferSize('70000') connectorPath('/opt/teradata/tdqg/connector/tdqg-teradata-connector/02.05.00.00.DEV-479/lib/') validateUnsupportedUC('false') enableAsyncAbort('false') customPushProfile('') gssJar('/usr/tdbms/bin/tdgssconfig.jar') disablePushdown('false') linkHeartbeatInterval('60000') fabricPath('/opt/teradata/tdqg/fabric/02.05.00.00.DEV-245/driver/') linkHandshakeTimeout('30000') remoteConnectorName('') responseTimeout('1800000') byteCountReportFrequency('640000') transactionMode('TERA') tempDbName('') roleSupport('true') jdbcJar('/usr/tdbms/bin/terajdbc4.jar') shmPath('/dev/shm/td_qg_ipc//5002/uds/prod') readTimeout('300000') enableLogging('DEBUG') ifs('[{\"n\":\"c_id\",\"t\":1,\"l\":4},{\"n\":\"c1\",\"t\":20,\"l\":62000},{\"n\":\"c2\",\"t\":20,\"l\":62000},{\"n\":\"c3\",\"t\":20,\"l\":62000},{\"n\":\"c4\",\"t\":20,\"l\":62000},{\"n\":\"c5\",\"t\":20,\"l\":62000},{\"n\":\"c6\",\"t\":20,\"l\":62000},{\"n\":\"c7\",\"t\":20,\"l\":62000},{\"n\":\"c8\",\"t\":20,\"l\":62000},{\"n\":\"c9\",\"t\":20,\"l\":62000},{\"n\":\"c10\",\"t\":20,\"l\":62000},{\"n\":\"c11\",\"t\":20,\"l\":62000},{\"n\":\"c12\",\"t\":20,\"l\":62000},{\"n\":\"c13\",\"t\":20,\"l\":62000},{\"n\":\"c14\",\"t\":20,\"l\":62000},{\"n\":\"c15\",\"t\":20,\"l\":62000},{\"n\":\"c16\",\"t\":20,\"l\":62000},{\"n\":\"c17\",\"t\":20,\"l\":7992}]')) AS dt;SELECT session"],"username":"testuser","userRole":null,"hostId":"1","requestId":"50","sessionId":"1637","queryId":"307181448409025937","totalCpu":0,"metadataPhase":{"startTime":"2018-03-05T07:31:32.132+0000","endTime":"2018-03-05T07:31:32.194+0000","duration":62,"totalCpu":0,"bytesTransferred":null,"node":{"id":"2b00d238-4a22-4e93-9397-d884f3190d86","name":"sdt09767.labs.teradata.com"},"instances":[{"startTime":"2018-03-05T07:31:32.132+0000","endTime":"2018-03-05T07:31:32.194+0000","duration":62,"totalCpu":0,"bytesTransferred":null,"node":{"id":"2b00d238-4a22-4e93-9397-d884f3190d86","name":"sdt09767.labs.teradata.com"}}]},"executionPhase":{"startTime":"2018-03-05T07:31:39.693+0000","endTime":"2018-03-05T07:31:46.438+0000","duration":6745,"totalCpu":0,"node":{"id":"2b00d238-4a22-4e93-9397-d884f3190d86","name":"sdt09767.labs.teradata.com"},"instances":[{"startTime":"2018-03-05T07:31:39.693+0000","endTime":"2018-03-05T07:31:46.438+0000","duration":6745,"totalCpu":0,"node":{"id":"2b00d238-4a22-4e93-9397-d884f3190d86","name":"sdt09767.labs.teradata.com"},"type":"EXPORT"}]},"dataTransferPhase":{"startTime":"2018-03-05T07:31:42.667+0000","endTime":"2018-03-05T07:31:46.354+0000","duration":3687,"totalCpu":0,"totalNodes":1,"cpuSkew":1.0,"highestCpuNode":{"id":"2b00d238-4a22-4e93-9397-d884f3190d86","name":"sdt09767.labs.teradata.com"},"dataSkew":1.0,"highestDataNode":{"id":"2b00d238-4a22-4e93-9397-d884f3190d86","name":"sdt09767.labs.teradata.com"},"bytesTransferred":20531,"compressedSize":28,"decompressedSize":20531},"errors":null},"bridges":[],"summaryInfo":{"managerId":"51234166-8245-48e8-bf76-f1925f5837b8","indexTime":"2018-03-05T07:14:19.947+0000","summaryDurationSecs":0.011,"summarized":true,"complete":true,"error":null,"lastReceived":{"51234166-8245-48e8-bf76-f1925f5837b8":"2018-03-05T07:31:50.766+0000"}}}
  
        
    
     